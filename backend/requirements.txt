# FastAPI and web server
fastapi==0.119.0
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic==2.5.0
pydantic-settings==2.1.0

# Build dependencies (required before other packages)
Cython>=0.29.24  # Required for building madmom and other C extensions

# PyTorch (for Demucs) - Python 3.8 compatible
torch==1.13.1
torchaudio==0.13.1

# TensorFlow (for Omnizart) - MUST match local working version
# NOTE: tensorflow and protobuf are installed separately in Dockerfile to avoid typing-extensions conflicts
# tensorflow==2.5.0
# protobuf==3.20.3
# For GPU: tensorflow-gpu==2.5.0

# Demucs dependencies
dora-search>=0.1.12
diffq==0.2.4
einops
julius>=0.2.3
lameenc>=1.2
submitit
soundfile>=0.10.3

# AnNOTEator dependencies (discovered during integration)
pedalboard>=0.5.9
pytube>=12.1.0
mido>=1.2.10
ffmpeg>=1.4
scikit-learn>=1.3.2  # Required by AnNOTEator for sklearn import

# Omnizart dependencies
click==7.1.2
pretty_midi>=0.2.9
librosa==0.8.1
madmom==0.16.1
pillow>=8.3.2,<9.0.0
pyyaml==5.4.1
jsonschema==3.2.0
tqdm>=4.49.0
pyfluidsynth==1.2.5
vamp==1.1.0
urllib3==1.26.4
spleeter>=2.3.0
mir_eval>=0.6
scipy>=1.5.0  # For peak detection in Omnizart custom inference

# Music21 for sheet music generation
music21>=8.3.0

# Additional utilities
python-dotenv==1.0.0
aiofiles==23.2.1
pandas>=1.4.3  # Required for AnNOTEator data processing
numpy==1.19.5  # Compatible with TensorFlow 2.5.0 and Python 3.8 - MUST match local
matplotlib>=3.5.3  # For visualization (optional)
